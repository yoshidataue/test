<!--
// Â© 2023 The mhfz-overlay developers.
// Use of this source code is governed by a MIT license that can be
// found in the LICENSE file.
-->
<ui:FluentWindow x:Class="MHFZ_Overlay.Views.Windows.BingoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MHFZ_Overlay.Views.Windows"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:gif="http://wpfanimatedgif.codeplex.com"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        xmlns:tray="http://schemas.lepo.co/wpfui/2022/xaml/tray"
        d:DataContext="{d:DesignInstance Type=windows:BingoWindowViewModel}"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        xmlns:converter="clr-namespace:MHFZ_Overlay.Services.Converter"
        xmlns:customcontrols="clr-namespace:MHFZ_Overlay.Views.CustomControls"
        xmlns:validationrules="clr-namespace:MHFZ_Overlay.Services.ValidationRule"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:viewmodels="clr-namespace:MHFZ_Overlay.ViewModels.Windows"
        xmlns:models="clr-namespace:MHFZ_Overlay.Models"
        xmlns:collections="clr-namespace:MHFZ_Overlay.Models.Collections"
        xmlns:windows="clr-namespace:MHFZ_Overlay.ViewModels.Windows"
        xmlns:vwp="clr-namespace:WpfToolkit.Controls;assembly=VirtualizingWrapPanel"
        mc:Ignorable="d"
        x:Name="BingoWindowObject"
        Title="Monster Hunter Frontier Z Overlay Bingo"
        Height="720" Width="1280" ResizeMode="CanResize"
        Foreground="{StaticResource Text}"
        Background="{StaticResource Base}"
        TextElement.Foreground="{StaticResource Text}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="14"
        FontFamily="{StaticResource Segoe UI Variable}"
        BorderBrush="#b4befe"
        ExtendsContentIntoTitleBar="True"
        WindowBackdropType="Mica"
        WindowCornerPreference="Round"
        WindowStartupLocation="CenterScreen"
        Closed="BingoWindowObject_Closed">
    <Window.Resources>
        <ResourceDictionary>
            <ObjectDataProvider x:Key="FontFamilies"
                        MethodName="GetFontFamilies"
                        ObjectType="{x:Type fonts:Fonts}"
                        xmlns:fonts="clr-namespace:System.Windows.Media;assembly=PresentationCore"/>
            <converter:XamlIconToViewBoxConverter x:Key="XamlIconToViewBoxConverter"/>
            <converter:BooleanToOpacityConverter x:Key="BooleanToOpacityConverter"/>
            <converter:QuestIDsToNamesConverter x:Key="QuestIDsToNamesConverter"/>
            <converter:FrontierWeaponTypeToIconsConverter x:Key="FrontierWeaponTypeToIconsConverter"/>
            <converter:GauntletBoostToImageConverter x:Key="GauntletBoostToImageConverter"/>
            <converter:BingoMonsterInfoToToolTipConverter x:Key="BingoMonsterInfoToToolTipConverter"/>

            
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <ui:TitleBar
            Title="Monster Hunter Frontier Z Overlay Bingo"
            Background="{StaticResource Crust}"
            Grid.Row="0"/>
            <TabControl Grid.Row="1" Margin="0" BorderBrush="Transparent" Background="Transparent">
                <TabItem Background="{StaticResource Mantle}" Foreground="{StaticResource Text}">
                    <TabItem.Header>
                        <StackPanel Background="Transparent" Orientation="Horizontal">
                            <Button IsHitTestVisible="False" BorderThickness="0" Background="Transparent" Width="48" Height="32">
                                <Button.Content>
                                    <ui:SymbolIcon Symbol="Board28" Foreground="{StaticResource Red}" FontSize="24"/>
                                </Button.Content>
                            </Button>
                            <TextBlock Background="Transparent" Text="Board" Margin="4,0,0,0" VerticalAlignment="Center" Foreground="#f5e0dc"/>
                        </StackPanel>
                    </TabItem.Header>
                    <Grid Height="Auto" Width="Auto">
                        <Grid.Background>
                            <ImageBrush Opacity=".5" ImageSource="/MHFZ_Overlay;component/Assets/Background/background_noise.png"/>
                        </Grid.Background>
                            <Grid Height="Auto" Width="Auto" Background="Transparent" Style="{StaticResource ConfigSingleGrid}" Grid.Row="0" Grid.Column="0" Margin="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="400"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                            <ui:DynamicScrollViewer CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                                <Grid >
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>
                                            <RowDefinition Height="40"/>

                                        </Grid.RowDefinitions>
                                        <Grid.Background>
                                            <ImageBrush Viewport="0, 0, 32, 32" ViewportUnits="Absolute" TileMode="Tile" Opacity=".5" ImageSource="/MHFZ_Overlay;component/Assets/Background/background_pattern1.png"/>
                                        </Grid.Background>
                                        <StackPanel ToolTip="Bingo Points" Orientation="Horizontal" Grid.ColumnSpan="2">
                                            <ui:Image Source="../../Assets/Icons/achievement/stamp.jpg" Width="48"/>
                                            <customcontrols:OutlinedTextBlock  d:Text="99999000000343434334343499" FontSize="18" FontWeight="SemiBold" Fill="{StaticResource Text}" Stroke="{StaticResource Crust}" Text="{Binding PlayerBingoPointsText}" VerticalAlignment="Center"/>
                                        </StackPanel>
                                        <ui:Button Grid.Row="1" Grid.ColumnSpan="2" HorizontalAlignment="Center" d:Content="Start (1000 Bingo Points)" Content="{Binding BingoStartButtonContent}" Foreground="{StaticResource Crust}" d:Background="{StaticResource Green}" Background="{Binding BingoStartButtonBackground}" Command="{Binding StartBingoCommand}">
                                            <ui:Button.Icon>
                                                <ui:SymbolIcon d:Symbol="Play20" Symbol="{Binding BingoStartButtonIcon}" FontSize="20"/>
                                            </ui:Button.Icon>
                                        </ui:Button>

                                        <StackPanel ToolTip="Carts available during the bingo run. If it reaches zero, the bingo run fails. Only counts carts from completed quests." HorizontalAlignment="Center" Grid.Row="2" Orientation="Horizontal">
                                            <ui:SymbolIcon Symbol="Cart24" FontSize="24" Foreground="{StaticResource Red}"/>
                                            <ui:TextBlock Margin="5,0,0,0" d:Text="99" Text="{Binding Carts}" VerticalAlignment="Center" FontWeight="SemiBold" FontSize="24"/>
                                        </StackPanel>
                                        <ui:TextBlock Grid.Column="1" Grid.Row="2" FontWeight="SemiBold" Text="00:00.000" VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="24"/>

                                        <ui:TextBlock ToolTip="Choose Bingo difficulty" Grid.Row="3" Text="Difficulty" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                        <ComboBox Grid.Row="3" Grid.Column="1" ItemsSource="{Binding Difficulties}" SelectedItem="{Binding SelectedDifficulty}" IsEnabled="{Binding BingoNotRunning}"/>

                                        <ui:TextBlock Grid.Row="4" Text="Blue Square Option" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                        <ComboBox Grid.Row="4" Grid.Column="1" ItemsSource="{Binding BingoLineOptions}" SelectedItem="{Binding SelectedBingoLineOption}" ToolTip="Choose bingo line options (will be marked as blue)" IsEnabled="{Binding BingoNotRunning}"/>

                                        <ui:Image Grid.RowSpan="3" ToolTip="Gauntlet Boost. To obtain gauntlet boost items, you have to complete a gauntlet challenge, which gives 1 per completion, with the type depending on the gauntlet completed." Grid.Row="5"  d:Source="pack://application:,,,/MHFZ_Overlay;component/Assets/Icons/png/gauntlet_max.png" Source="{Binding GauntletBoost, Converter={StaticResource GauntletBoostToImageConverter}}"/>

                                        <CheckBox ToolTip="Boost points when completing squares containing a zenith monster. Costs 1 Zenith Gauntlet item. Increases the cost to start a bingo run by 10." HorizontalAlignment="Left" d:Content="Zenith Boost (1000 left)" Content="{Binding ZenithBoostText}" IsChecked="{Binding ZenithBoostChecked}" Grid.Row="5" Grid.Column="1" IsEnabled="{Binding BingoNotRunning}"/>
                                        <CheckBox ToolTip="Boost points when completing squares containing a conquest or shiten monster. Costs 1 Solstice Gauntlet item. Increases the cost to start a bingo run by 20." HorizontalAlignment="Left" d:Content="Solstice Boost (1000 left)" Content="{Binding SolsticeBoostText}" IsChecked="{Binding SolsticeBoostChecked}" Grid.Row="6" Grid.Column="1" IsEnabled="{Binding BingoNotRunning}"/>
                                        <CheckBox ToolTip="Boost points when completing squares containing a musou monster. Costs 1 Musou Gauntlet item. Increases the cost to start a bingo run by 30." HorizontalAlignment="Left" d:Content="Musou Boost (1000 left)" Content="{Binding MusouBoostText}" IsChecked="{Binding MusouBoostChecked}" Grid.Row="7" Grid.Column="1" IsEnabled="{Binding BingoNotRunning}"/>

                                        <ui:TextBlock ToolTip="Applies the Burning Freezing Elzelion bingo upgrades. Increases the cost to start a bingo run by 100." Grid.Row="8" Text="Musou Elzelion Boost" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                        <ui:ToggleSwitch Grid.Row="8" Grid.Column="1" HorizontalAlignment="Center" IsChecked="{Binding IsMusouElzelionBoostActive}" IsEnabled="{Binding BingoNotRunning}"/>

                                        <ui:Button HorizontalAlignment="Center" Grid.Row="9" Grid.ColumnSpan="2" d:Content="Reroll weapon bonuses (2 Bingo Points)"  Content="{Binding WeaponRerollButtonContent}" Foreground="{StaticResource Crust}" Background="{StaticResource Green}" Command="{Binding WeaponRerollCommand}">
                                            <ui:Button.Icon>
                                                <ui:ImageIcon Height="20" Source="pack://application:,,,/MHFZ_Overlay;component/Assets/Icons/png/unknown.png"/>
                                            </ui:Button.Icon>
                                        </ui:Button>
                                        <ui:Button HorizontalAlignment="Center" Grid.Row="10" Grid.ColumnSpan="2" d:Content="Buy Carts (100 Bingo Points)"  Content="{Binding CartsBuyButtonContent}" Foreground="{StaticResource Crust}" Background="{StaticResource Green}" Command="{Binding CartsBuyCommand}">
                                            <ui:Button.Icon>
                                                <ui:SymbolIcon Symbol="Cart24" FontSize="20"/>
                                            </ui:Button.Icon>
                                        </ui:Button>
                                        <ui:Button HorizontalAlignment="Center" Grid.Row="11" Grid.ColumnSpan="2" d:Content="Set Points"  Content="Set Points" Foreground="{StaticResource Crust}" Background="{StaticResource Green}" Command="{Binding SetPointsCommand}"/>
                                        <ui:Button VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Row="12" Grid.Column="1" d:Content="Transcend"  Content="Transcend" Foreground="{StaticResource Text}" Background="{StaticResource Surface0}" Command="{Binding TranscendCommand}">
                                            <ui:Button.Icon>
                                                <ui:ImageIcon Height="24" Source="pack://application:,,,/MHFZ_Overlay;component/Assets/Icons/png/transcend.png"/>
                                            </ui:Button.Icon>
                                        </ui:Button>
                                        <ProgressBar Grid.Row="12" Maximum="10000" d:Value="5000" Foreground="{StaticResource Yellow}" Background="{StaticResource Crust}"/>
                                    <ui:Button HorizontalAlignment="Center" Grid.Row="13" Grid.ColumnSpan="2" d:Content="Shuffle cells (99999 Bingo Points)"  Content="Shuffle cells (99999 Bingo Points)" Foreground="{StaticResource Crust}" Background="{StaticResource Blue}" Command="{Binding ShuffleBingoCellsCommand}">
                                            <ui:Button.Icon>
                                                <ui:SymbolIcon Symbol="ArrowShuffle20" FontSize="20"/>
                                            </ui:Button.Icon>
                                        </ui:Button>
                                    <ui:Button HorizontalAlignment="Center" Grid.Row="14" Grid.ColumnSpan="2" d:Content="Select weapon order (9999 Bingo Points)"  Content="Select weapon order (9999 Bingo Points)" Foreground="{StaticResource Crust}" Background="{StaticResource Blue}" Command="{Binding SelectWeaponOrderCommand}">
                                            <ui:Button.Icon>
                                            <ui:ImageIcon Height="20" Source="pack://application:,,,/MHFZ_Overlay;component/Assets/Icons/png/weapon/small_gs.png"/>
                                            </ui:Button.Icon>
                                        </ui:Button>
                                    <ui:Button HorizontalAlignment="Center" Grid.Row="15" Grid.ColumnSpan="2" d:Content="Select cells order (10 left)" Content="Select cells order (10 left)" Foreground="{StaticResource Crust}" Background="{StaticResource Blue}" Command="{Binding SelectCellsOrderCommand}">
                                            <ui:Button.Icon>
                                                <ui:SymbolIcon Symbol="TableCellEdit20" FontSize="20"/>
                                            </ui:Button.Icon>
                                        </ui:Button>

                                    </Grid>
                                </ui:DynamicScrollViewer>
                            <ui:DynamicScrollViewer Grid.Column="1" Margin="10,0,0,0" CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                                <Grid>
                                    <ui:InfoBar IsClosable="False" d:IsOpen="True" IsOpen="{Binding BingoExplanationShown}" Severity="Informational" Title="What is Bingo?" Message="Bingo is a challenge where you are presented with a bingo board that you have to complete.&#x0a;The overlay mode must be in one of the speedrun modes.&#x0a;In order to complete a square, you have to hunt the monster shown in that cell in-game.&#x0a;&#x0a;You can hover over the monster icon in order to view the quest names.&#x0a;If you complete a square with the weapon icon shown, you gain extra points.&#x0a;If the monster is Unlimited (UL), any non-custom quest counts as completion.&#x0a;The numbers at the bottom is the maximum possible score for that cell.&#x0a;&#x0a;The game ends when you complete the squares in a horizontal, vertical or diagonal line.&#x0a;You can complete as many cells as possible,&#x0a;as long as the last square is the first to complete one or multiple lines.&#x0a;&#x0a;Keep in mind you have a limited amount of carts,&#x0a;for more information hover over the carts number.&#x0a;&#x0a;At game completion, you are awarded bingo points,&#x0a;which you can use to buy upgrades in the bingo shop."/>
                                    <ItemsControl x:Name="BingoItemsControl" ItemsSource="{Binding FlatCells}" VirtualizingStackPanel.IsVirtualizing="True" VirtualizingStackPanel.VirtualizationMode="Standard">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <!-- Update the Rows and Columns properties when the size of the board changes -->
                                                <UniformGrid Rows="{Binding DataContext.BoardSize,
                               ElementName=BingoItemsControl}" Columns="{Binding DataContext.BoardSize,
                               ElementName=BingoItemsControl}"/>
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate DataType="{x:Type models:BingoCell}">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>

                                                    <!-- Outer Border with rounded square bevel effect -->
                                                    <Border Width="96" Height="96" CornerRadius="16">
                                                        <Border.Background>
                                                            <SolidColorBrush Color="#6c7086" Opacity="1"/>
                                                        </Border.Background>
                                                        <Border.Effect>
                                                            <DropShadowEffect ShadowDepth="2" Color="#7f849c" Opacity="0.5" BlurRadius="4"/>
                                                        </Border.Effect>

                                                        <!-- Inner Border with background color -->
                                                        <Border Background="{Binding BackgroundColor}" CornerRadius="16">
                                                            <Grid>
                                                                <!-- Show the monster's image and name -->
                                                                <ui:Image CornerRadius="4" BorderBrush="#33000000" Source="{Binding Monster.Image}" Width="64" HorizontalAlignment="Center" VerticalAlignment="Center" ToolTip="{Binding Monster, Converter={StaticResource BingoMonsterInfoToToolTipConverter}}" Opacity="{Binding IsComplete, Converter={StaticResource BooleanToOpacityConverter}}"/>

                                                                <Grid Panel.ZIndex="2" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="64,64,0,0">
                                                                    <!-- Image inside the circular background -->
                                                                    <Border Background="{StaticResource Mantle}" BorderBrush="{StaticResource Overlay0}" BorderThickness="2" CornerRadius="20">
                                                                        <ui:Image Background="Transparent" Width="24" Height="24" ToolTip="{Binding WeaponTypeBonus}" Source="{Binding WeaponTypeBonus, Converter={StaticResource FrontierWeaponTypeToIconsConverter}}" />
                                                                    </Border>
                                                                </Grid>
                                                            </Grid>
                                                        </Border>
                                                    </Border>

                                                    <StackPanel Orientation="Vertical" Grid.Row="1" Margin="5">
                                                        <TextBlock Text="{Binding Monster.Name}" HorizontalAlignment="Center" Margin="5"/>
                                                        <!--TODO: this should be the max final score instead-->
                                                        <TextBlock Text="{Binding Monster.BaseScore}" HorizontalAlignment="Center" Margin="5"/>
                                                    </StackPanel>
                                                </Grid>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                            </ui:DynamicScrollViewer>
                        </Grid>
                    </Grid>
                </TabItem>
                <TabItem Background="{StaticResource Mantle}" Foreground="{StaticResource Text}">
                    <TabItem.Header>
                        <StackPanel Background="Transparent" Orientation="Horizontal">
                            <Button IsHitTestVisible="False" BorderThickness="0" Background="Transparent" Width="48" Height="32">
                                <Button.Content>
                                    <ui:SymbolIcon Symbol="BuildingShop24" Foreground="{StaticResource Green}" FontSize="24"/>
                                </Button.Content>
                            </Button>
                            <TextBlock Background="Transparent" Text="Shop" Margin="4,0,0,0" VerticalAlignment="Center" Foreground="#f5e0dc"/>
                        </StackPanel>
                    </TabItem.Header>
                    <Grid Height="Auto"  Width="Auto">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="100"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions >
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <ScrollViewer CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Visible" Grid.Row="0">
                            <Grid Height="Auto" Width="Auto" Background="Transparent" Style="{StaticResource ConfigSingleGrid}" Grid.Row="0" Grid.Column="0" Margin="20" >

                            </Grid>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
                <TabItem Background="{StaticResource Mantle}" Foreground="{StaticResource Text}">
                    <TabItem.Header>
                        <StackPanel Background="Transparent" Orientation="Horizontal">
                            <Button IsHitTestVisible="False" BorderThickness="0" Background="Transparent" Width="48" Height="32">
                                <Button.Content>
                                    <ui:SymbolIcon Symbol="BookQuestionMark24" Foreground="{StaticResource Mauve}" FontSize="24"/>
                                </Button.Content>
                            </Button>
                            <TextBlock Background="Transparent" Text="Book of Secrets" Margin="4,0,0,0" VerticalAlignment="Center" Foreground="#f5e0dc"/>
                        </StackPanel>
                    </TabItem.Header>
                    <Grid Height="Auto"  Width="Auto">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="100"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions >
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <ScrollViewer CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Visible" Grid.Row="0">
                            <Grid Height="Auto" Width="Auto" Background="Transparent" Style="{StaticResource ConfigSingleGrid}" Grid.Row="0" Grid.Column="0" Margin="20" >

                            </Grid>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
                <TabItem Background="{StaticResource Mantle}" Foreground="{StaticResource Text}">
                    <TabItem.Header>
                        <StackPanel Background="Transparent" Orientation="Horizontal">
                            <Button IsHitTestVisible="False" BorderThickness="0" Background="Transparent" Width="48" Height="32">
                                <Button.Content>
                                    <ui:ImageIcon Height="20" Width="20" Source="pack://application:,,,/MHFZ_Overlay;component/Assets/Icons/png/extreme_dragonblight.png"/>
                                </Button.Content>
                            </Button>
                            <TextBlock Background="Transparent" Text="Ancient Ruins" Margin="4,0,0,0" VerticalAlignment="Center" Foreground="#f5e0dc"/>
                        </StackPanel>
                    </TabItem.Header>
                    <Grid Height="Auto"  Width="Auto">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="400"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid Margin="5" Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid Grid.RowSpan="3">
                                <StackPanel Orientation="Vertical">
                                    <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="128" Height="128" >
                                        <Button HorizontalAlignment="Center"  BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/AncientDragonWings.xaml'}"/>
                                    </Border>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Border  Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="128" Height="128" >
                                            <Button  BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/AncientDragonCranium.xaml'}"/>
                                        </Border>
                                        <Border  Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="128" Height="128" >
                                            <Button  BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/AncientDragonThorax.xaml'}"/>
                                        </Border>
                                        <Border  Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="128" Height="128" >
                                            <Button  BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/AncientDragonTail.xaml'}"/>
                                        </Border>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="128" Height="128" >
                                            <Button BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/AncientDragonForelimbs.xaml'}"/>
                                        </Border>
                                        <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="128" Height="128" >
                                            <Button BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/AncientDragonHindlegs.xaml'}"/>
                                        </Border>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                            <Grid Grid.Row="3">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="96" Height="96" >
                                        <Button Opacity=".5" BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Head_Icon_White.xaml'}"/>
                                    </Border>
                                    <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="96" Height="96" >
                                        <Button Opacity=".5" BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Sturdy_Shell_Icon_White.xaml'}"/>
                                    </Border>
                                    <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="96" Height="96" >
                                        <Button Opacity=".5"  BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Wing_Icon_White.xaml'}"/>
                                    </Border>
                                    <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="96" Height="96" >
                                        <Button Opacity=".5"  BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Flipper_Icon_White.xaml'}"/>
                                    </Border>
                                    <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="96" Height="96" >
                                        <Button Opacity=".5"  BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Leg_Carve_Icon_White.xaml'}"/>
                                    </Border>
                                    <Border Margin="5" Background="{StaticResource Mantle}" BorderThickness="1" BorderBrush="{StaticResource Surface0}" CornerRadius="2" Width="96" Height="96" >
                                        <Button Opacity=".5" BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Tail_Icon_White.xaml'}"/>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Grid>
                        <ui:DynamicScrollViewer Margin="5" CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                            <Grid Background="{StaticResource Mantle}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                    <RowDefinition Height="64"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="64"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Button Width="64" Height="64" BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Head_Icon_White.xaml'}"/>
                                <ui:SymbolIcon Foreground="{StaticResource Mauve}" Symbol="Question48" FontSize="48" Width="64" Height="64" Grid.Row="1"/>
                                <ui:SymbolIcon Foreground="{StaticResource Blue}" Symbol="BookInformation24" FontSize="48" Width="64" Height="64" Grid.Row="2"/>
                                <ui:SymbolIcon Foreground="{StaticResource Red}" Symbol="BookExclamationMark24" FontSize="48" Width="64" Height="64" Grid.Row="3"/>
                                <ui:SymbolIcon Foreground="{StaticResource Yellow}" Symbol="StarEmphasis32" FontSize="48" Width="64" Height="64" Grid.Row="4"/>
                                <ui:SymbolIcon Foreground="{StaticResource Green}" FontSize="48" Symbol="DeveloperBoardLightning20" Width="64" Height="64" Grid.Row="5"/>
                                <ui:Image Grid.Row="7" Grid.ColumnSpan="2" Grid.RowSpan="4" HorizontalAlignment="Center" Height="64" Source="pack://application:,,,/MHFZ_Overlay;component/Assets/Icons/png/transcend.png"/>
                                <Button Grid.Row="6" Width="64" Height="64" BorderBrush="Transparent" Background="Transparent" Content="{Binding Converter={StaticResource XamlIconToViewBoxConverter },ConverterParameter='Assets/Icons/Scrap_Icon_White.xaml'}"/>

                                <StackPanel Grid.Column="1" Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <ui:TextBlock FontSize="24" Text="Ancient Dragon"/>
                                    <ui:TextBlock FontSize="20" Text="Cranium" HorizontalAlignment="Center"/>
                                </StackPanel>
                                
                                <ui:DynamicScrollViewer Grid.Row="1" Grid.Column="1" Margin="5" CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                    <TextBlock TextWrapping="Wrap" Text="Discovery: The head of the dragon. Presents skull fractures."/>
                                </ui:DynamicScrollViewer>
                                <ui:DynamicScrollViewer Grid.Row="2" Grid.Column="1" Margin="5" CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                    <TextBlock TextWrapping="Wrap" Text="Description: Imposing head, reminiscent of a true dragon's. With three distinct horns atop it, the central horn stands tall and vibrant in yellow, flanked by two shorter, white horns that curve downwards. A visor-like structure conceals any hint of visible eyes, but a fierce maw is fully exposed, exuding a sense of power."/>
                                </ui:DynamicScrollViewer>
                                <ui:DynamicScrollViewer Grid.Row="3" Grid.Column="1" Margin="5" CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                    <TextBlock TextWrapping="Wrap" Text="Effects: Unlock the statistics tab."/>
                                </ui:DynamicScrollViewer>
                                <ui:DynamicScrollViewer Grid.Row="4" Grid.Column="1" Margin="5" CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                    <TextBlock TextWrapping="Wrap">
                                            Synergy Effects: Unlock all features of the statistics tab.
                                            <LineBreak/>
                                            Unlock an upgrade for increasing the chance of finding missing Book of Secrets pages.
                                            <LineBreak/>
Unlock an upgrade for increasing the chance of finding an ancient dragon part's scraps.
                                    </TextBlock>
                                </ui:DynamicScrollViewer>
                                <ui:DynamicScrollViewer Grid.Row="5" Grid.Column="1" Margin="5" CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                    <TextBlock TextWrapping="Wrap" Text="Source Effects: None."/>
                                </ui:DynamicScrollViewer>
                                <TextBlock FontSize="18" VerticalAlignment="Center" Grid.Row="6" Grid.Column="1" TextWrapping="Wrap" Text="Scraps Found: 0/100"/>
                                <lvc:PieChart Width="Auto" Height="Auto" Grid.RowSpan="4" Grid.ColumnSpan="2"
            Grid.Row="7"
            Series="{Binding GaugeSeries}"
            VisualElements="{Binding VisualElements}"
            InitialRotation="-225"
            MaxAngle="270"
            MinValue="0"
            MaxValue="100">
                                </lvc:PieChart>
                                <Button VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Row="10" Grid.ColumnSpan="2" Content="True Transcend" Foreground="{StaticResource Crust}" Background="{StaticResource Blue}" Command="{Binding DoRandomChangeCommand}"/>
                            </Grid>
                        </ui:DynamicScrollViewer>
                    </Grid>
                </TabItem>
                <TabItem Background="{StaticResource Mantle}" Foreground="{StaticResource Text}">
                    <TabItem.Header>
                        <StackPanel Background="Transparent" Orientation="Horizontal">
                            <Button IsHitTestVisible="False" BorderThickness="0" Background="Transparent" Width="48" Height="32">
                                <Button.Content>
                                    <ui:SymbolIcon Symbol="List28" Foreground="{StaticResource Blue}" FontSize="24"/>
                                </Button.Content>
                            </Button>
                            <TextBlock Background="Transparent" Text="Statistics" Margin="4,0,0,0" VerticalAlignment="Center" Foreground="#f5e0dc"/>
                        </StackPanel>
                    </TabItem.Header>
                    <Grid Height="Auto"  Width="Auto">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions >
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <ScrollViewer CanContentScroll="True" IsDeferredScrollingEnabled="True" VerticalScrollBarVisibility="Visible" Grid.Row="0">
                            <Grid Height="Auto" Width="Auto" Background="Transparent" Style="{StaticResource ConfigSingleGrid}" Grid.Row="0" Grid.Column="0" Margin="20" >
                                <StackPanel Orientation="Horizontal">
                                    <Grid Width="200">
                                        <StackPanel Orientation="Vertical">
                                            <ui:Button Content="Refresh Points" Command="{Binding RefreshPointsCommand}"/>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="X0" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="X0" x:Name="X0" Text="{Binding X0}"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="Y0" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="Y0" x:Name="Y0" Text="{Binding Y0}"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="X1" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="X1" x:Name="X1" Text="{Binding X1}"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="Y1" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="Y1" x:Name="Y1" Text="{Binding Y1}"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="X2" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="X2" x:Name="X2" Text="{Binding X2}"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="X0" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="Y2" x:Name="Y2" Text="{Binding Y2}"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="X3" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="X3" x:Name="X3" Text="{Binding X3}"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <ui:TextBlock Text="Y3" VerticalAlignment="Center"/>
                                                <ui:TextBox MinWidth="100" PlaceholderText="Y3" x:Name="Y3" Text="{Binding Y3}"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Grid>
                                    <lvc:CartesianChart x:Name="CartesianChartLineSeries" Width="720" Height="Auto" Series="{Binding Series}"/>
                                </StackPanel>
                            </Grid>
                        </ScrollViewer>
                    </Grid>
                </TabItem>
            </TabControl>
        </Grid>
        <ui:SnackbarPresenter Grid.ZIndex="2" x:Name="BingoWindowSnackBarPresenter" d:Visibility="Hidden"/>
    </Grid>
</ui:FluentWindow>
